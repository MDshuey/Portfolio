\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={MDS Data Science Portfolio},
            pdfauthor={Mitchell D. Shuey},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{MDS Data Science Portfolio}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{Mitchell D. Shuey}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
    \date{}
    \predate{}\postdate{}
  

\begin{document}
\maketitle

\section{Demonstration 1: Data Cleaning, Qualitative
Analysis}\label{demonstration-1-data-cleaning-qualitative-analysis}

\subsubsection{MediaMonitor: Collection
methodology}\label{mediamonitor-collection-methodology}

In this dataset, headlines were compiled from a specific list of sources
with the keyword ``Brazil'' since the prior business day of collection.
Sports matters were omitted, with an emphasis on collecting news
regarding the state of Brazil and its economy, society, and politics,
categorized as \emph{pillars}. From there, a \emph{topic} if applicable
further delved into relevant subcategories such as agriculture,
technology, energy, etc.

This data was compiled between the beginning of the 2017 calendar year
and the end of November. There were 222 days of headline collection
during this time period, with 2045 total headlines. Of particular
interest, a subjective qualitative variable \emph{impact} was also given
with each observation: Labelling a positive, negative, or neutral impact
on a potential reader:
\includegraphics{C:/Users/LENOVO/Documents/c/ImpactMethodology.png}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Data has already been read in under the variable name "medmon"}
\KeywordTok{library}\NormalTok{(plyr)}
\KeywordTok{library}\NormalTok{(readxl)}
\CommentTok{#tidying, establishing the correct}
\NormalTok{medmon}\OperatorTok{$}\NormalTok{Sources =}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Sources)}
\NormalTok{medmon}\OperatorTok{$}\NormalTok{Pillar =}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Pillar)}
\NormalTok{medmon}\OperatorTok{$}\NormalTok{Topic =}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Topic)}
\NormalTok{medmon}\OperatorTok{$}\NormalTok{Impact =}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Impact)}
\NormalTok{medmon}\OperatorTok{$}\NormalTok{Date =}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Date, }\DataTypeTok{origin=}\StringTok{"1900-01-01"}\NormalTok{)}
\KeywordTok{tail}\NormalTok{(medmon)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 7
##   Title                 Sources  Date       Pillar  Topic     Impact X__1 
##   <chr>                 <fct>    <date>     <fct>   <fct>     <fct>  <chr>
## 1 Goldman Sees Iron Or~ Bloombe~ 2017-11-29 Economy <NA>      Neutr~ <NA> 
## 2 Asian groups vie for~ Reuters  2017-11-29 Economy Infrastr~ Posit~ <NA> 
## 3 - Brazil posts large~ Reuters  2017-11-29 Economy <NA>      Posit~ <NA> 
## 4 - Plan to help Brazi~ Reuters  2017-11-29 Economy <NA>      Neutr~ <NA> 
## 5 - Brazil lower house~ Reuters  2017-11-29 Politi~ Green Ec~ Posit~ <NA> 
## 6 - Brazil Senate appr~ Reuters  2017-11-29 Economy Politics  Posit~ <NA>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#From here, the goal is to get a daily count for _impact_. }
\KeywordTok{library}\NormalTok{(plyr)}
\NormalTok{counter =}\StringTok{ }\KeywordTok{count}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Date)}

\NormalTok{mm_pos=}\StringTok{ }\KeywordTok{subset}\NormalTok{(medmon, Impact }\OperatorTok{==}\StringTok{ "Positive"}\NormalTok{)}
\NormalTok{mm_neg=}\StringTok{ }\KeywordTok{subset}\NormalTok{(medmon, Impact }\OperatorTok{==}\StringTok{ "Negative"}\NormalTok{)}
\NormalTok{c_pos =}\StringTok{ }\KeywordTok{count}\NormalTok{(mm_pos}\OperatorTok{$}\NormalTok{Date)}
\NormalTok{c_neg =}\StringTok{ }\KeywordTok{count}\NormalTok{(mm_neg}\OperatorTok{$}\NormalTok{Date)}
\NormalTok{counter =}\StringTok{ }\KeywordTok{merge}\NormalTok{(counter, c_pos, }\DataTypeTok{by=}\StringTok{"x"}\NormalTok{, }\DataTypeTok{all=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{counter =}\StringTok{ }\KeywordTok{merge}\NormalTok{(counter, c_neg, }\DataTypeTok{by=}\StringTok{"x"}\NormalTok{, }\DataTypeTok{all=}\OtherTok{TRUE}\NormalTok{)}
\KeywordTok{colnames}\NormalTok{(counter)=}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Date"}\NormalTok{,}\StringTok{"Total"}\NormalTok{,}\StringTok{"Pos"}\NormalTok{,}\StringTok{"Neg"}\NormalTok{)}

\KeywordTok{head}\NormalTok{(counter)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##         Date Total Pos Neg
## 1 2017-01-05    14   3   7
## 2 2017-01-06    11   1   7
## 3 2017-01-09     9  NA   3
## 4 2017-01-10     6   4   1
## 5 2017-01-11    12   5   2
## 6 2017-01-12    10   3   3
\end{verbatim}

We have the initial structure now, but we need to retain counts of ``0''
for when we begin graphing. Then and only then we can subtract from our
Total column to get the final Neutral column:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{counter[}\KeywordTok{is.na}\NormalTok{(counter)] =}\StringTok{ }\DecValTok{0}
\NormalTok{counter}\OperatorTok{$}\NormalTok{Neu =}\StringTok{ }\NormalTok{counter}\OperatorTok{$}\NormalTok{Total }\OperatorTok{-}\StringTok{ }\NormalTok{counter}\OperatorTok{$}\NormalTok{Pos }\OperatorTok{-}\StringTok{ }\NormalTok{counter}\OperatorTok{$}\NormalTok{Neg}
\KeywordTok{head}\NormalTok{(counter)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##         Date Total Pos Neg Neu
## 1 2017-01-05    14   3   7   4
## 2 2017-01-06    11   1   7   3
## 3 2017-01-09     9   0   3   6
## 4 2017-01-10     6   4   1   1
## 5 2017-01-11    12   5   2   5
## 6 2017-01-12    10   3   3   4
\end{verbatim}

\subsection{Visualization}\label{visualization}

I began without using ggplot. I manually added tick marks for each
month; Although there may have been a way to code this, I called upon
Occam's razor and found the 11 observations where the month changed.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c_cols =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Black"}\NormalTok{, }\StringTok{"Black"}\NormalTok{, }\StringTok{"Green"}\NormalTok{, }\StringTok{"Red"}\NormalTok{, }\StringTok{"Gray"}\NormalTok{)}
\KeywordTok{plot.ts}\NormalTok{(counter}\OperatorTok{$}\NormalTok{Total, }\DataTypeTok{ylim=} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{25}\NormalTok{), }\DataTypeTok{col=}\StringTok{"Green"}\NormalTok{, }
        \DataTypeTok{xaxt=} \StringTok{"n"}\NormalTok{, }\DataTypeTok{ylab=}\StringTok{"# of headlines"}\NormalTok{, }\DataTypeTok{xlab=} \StringTok{"Date (Jan-Nov)"}\NormalTok{)}
    \KeywordTok{title}\NormalTok{(}\DataTypeTok{main=} \StringTok{"2017 Articles by Impact"}\NormalTok{)}
    \KeywordTok{axis}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DataTypeTok{at=}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{18}\NormalTok{, }\DecValTok{35}\NormalTok{, }\DecValTok{58}\NormalTok{, }\DecValTok{78}\NormalTok{, }\DecValTok{100}\NormalTok{, }\DecValTok{121}\NormalTok{, }\DecValTok{140}\NormalTok{, }\DecValTok{163}\NormalTok{, }\DecValTok{183}\NormalTok{, }\DecValTok{202}\NormalTok{), }\DataTypeTok{labels =} \KeywordTok{c}\NormalTok{(}\StringTok{"Jan"}\NormalTok{,}\StringTok{"Feb"}\NormalTok{,}\StringTok{"Mar"}\NormalTok{,}\StringTok{"Apr"}\NormalTok{, }\StringTok{"May"}\NormalTok{, }\StringTok{"Jun"}\NormalTok{, }\StringTok{"Jul"}\NormalTok{,}\StringTok{"Aug"}\NormalTok{,}\StringTok{"Sept"}\NormalTok{,}\StringTok{"Oct"}\NormalTok{, }\StringTok{"Nov"}\NormalTok{))}
\CommentTok{#We begin plotting by stacking each layer with an appropriate color label}
    \KeywordTok{polygon}\NormalTok{(}\DataTypeTok{x=}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{222}\NormalTok{, }\DecValTok{222}\OperatorTok{:}\DecValTok{1}\NormalTok{), }\DataTypeTok{border =} \OtherTok{NA}\NormalTok{, }\DataTypeTok{y=}\KeywordTok{c}\NormalTok{(counter}\OperatorTok{$}\NormalTok{Total, }\KeywordTok{rev}\NormalTok{(counter}\OperatorTok{$}\NormalTok{Neg}\OperatorTok{+}\NormalTok{counter}\OperatorTok{$}\NormalTok{Neu)), }\DataTypeTok{col=} \StringTok{"Green"}\NormalTok{)}
    \KeywordTok{polygon}\NormalTok{(}\DataTypeTok{x=}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{222}\NormalTok{, }\DecValTok{222}\OperatorTok{:}\DecValTok{1}\NormalTok{), }\DataTypeTok{border =} \OtherTok{NA}\NormalTok{, }\DataTypeTok{y=}\KeywordTok{c}\NormalTok{((counter}\OperatorTok{$}\NormalTok{Neg }\OperatorTok{+}\StringTok{ }\NormalTok{counter}\OperatorTok{$}\NormalTok{Neu), }\KeywordTok{rev}\NormalTok{(counter}\OperatorTok{$}\NormalTok{Neg)), }\DataTypeTok{col=} \StringTok{"Grey"}\NormalTok{)}
    \KeywordTok{polygon}\NormalTok{(}\DataTypeTok{x=}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{222}\NormalTok{, }\DecValTok{222}\OperatorTok{:}\DecValTok{1}\NormalTok{), }\DataTypeTok{border =} \OtherTok{NA}\NormalTok{, }\DataTypeTok{y=}\KeywordTok{c}\NormalTok{((counter}\OperatorTok{$}\NormalTok{Neg), }\KeywordTok{rep}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DataTypeTok{times=}\DecValTok{222}\NormalTok{)), }\DataTypeTok{col=} \StringTok{"Red"}\NormalTok{)}
    \KeywordTok{legend}\NormalTok{(}\StringTok{"topright"}\NormalTok{, }\KeywordTok{c}\NormalTok{(}\StringTok{"Positive"}\NormalTok{, }\StringTok{"Negative"}\NormalTok{, }\StringTok{"Neutral"}\NormalTok{), }\DataTypeTok{fill =} \KeywordTok{c}\NormalTok{(}\StringTok{"Green"}\NormalTok{, }\StringTok{"Red"}\NormalTok{, }\StringTok{"Gray"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{MDS_Portfolio_files/figure-latex/unnamed-chunk-4-1} \end{center}

======= Already we can see some interesting trends we will want to
explore. From here we will switch to the more efficient code of ggplot.
To make trends more visible to humans, we're going to bin data by the
week:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Preparing the weekly sums}
\NormalTok{counter}\OperatorTok{$}\NormalTok{DateW=}\KeywordTok{as.Date}\NormalTok{(}\KeywordTok{cut.Date}\NormalTok{(counter}\OperatorTok{$}\NormalTok{Date, }\DataTypeTok{breaks=}\StringTok{"week"}\NormalTok{, }\DataTypeTok{start.on.monday =}\NormalTok{ F))}
\NormalTok{counterW=}\KeywordTok{aggregate}\NormalTok{(}\KeywordTok{cbind}\NormalTok{(counter}\OperatorTok{$}\NormalTok{Total, counter}\OperatorTok{$}\NormalTok{Pos, counter}\OperatorTok{$}\NormalTok{Neg, counter}\OperatorTok{$}\NormalTok{Neu)}\OperatorTok{~}\NormalTok{DateW,}\DataTypeTok{data=}\NormalTok{counter,}\DataTypeTok{FUN =}\NormalTok{ sum)}
\KeywordTok{colnames}\NormalTok{(counterW)=}\KeywordTok{c}\NormalTok{(}\StringTok{"DateW"}\NormalTok{, }\StringTok{"Total"}\NormalTok{, }\StringTok{"Pos"}\NormalTok{, }\StringTok{"Neg"}\NormalTok{, }\StringTok{"Neu"}\NormalTok{)}
\CommentTok{#Plotting begins}
\NormalTok{g1=}\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{counterW, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{DateW, }\DataTypeTok{y=}\NormalTok{Total)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\DecValTok{0}\NormalTok{, }\DataTypeTok{ymax=}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Neg),}\DataTypeTok{fill=}\StringTok{"red"}\NormalTok{)}\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Neg, }\DataTypeTok{ymax=}\NormalTok{(counterW}\OperatorTok{$}\NormalTok{Neg}\OperatorTok{+}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Neu)), }\DataTypeTok{fill=}\StringTok{"gray"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\NormalTok{(counterW}\OperatorTok{$}\NormalTok{Total}\OperatorTok{-}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Pos), }\DataTypeTok{ymax=}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Total), }\DataTypeTok{fill =} \StringTok{"green"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"2017 Articles by Impact"}\NormalTok{, }\DataTypeTok{x=}\StringTok{"Date (Jan-Nov)"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"# of Articles"}\NormalTok{)}

\CommentTok{#Percentage of totals:}

\NormalTok{counterW}\OperatorTok{$}\NormalTok{posp=counterW}\OperatorTok{$}\NormalTok{Pos}\OperatorTok{/}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Total}
\NormalTok{counterW}\OperatorTok{$}\NormalTok{negp=counterW}\OperatorTok{$}\NormalTok{Neg}\OperatorTok{/}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Total}
\NormalTok{counterW}\OperatorTok{$}\NormalTok{neup=counterW}\OperatorTok{$}\NormalTok{Neu}\OperatorTok{/}\NormalTok{counterW}\OperatorTok{$}\NormalTok{Total}
\CommentTok{#Plotting continues}
\NormalTok{g2=}\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{counterW, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x=}\NormalTok{DateW, }\DataTypeTok{y=}\DecValTok{1}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\DecValTok{0}\NormalTok{, }\DataTypeTok{ymax=}\NormalTok{counterW}\OperatorTok{$}\NormalTok{negp),}\DataTypeTok{fill=}\StringTok{"red"}\NormalTok{)}\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\NormalTok{counterW}\OperatorTok{$}\NormalTok{negp, }\DataTypeTok{ymax=}\NormalTok{(counterW}\OperatorTok{$}\NormalTok{neg}\OperatorTok{+}\NormalTok{counterW}\OperatorTok{$}\NormalTok{neup)), }\DataTypeTok{fill=}\StringTok{"gray"}\NormalTok{, }\DataTypeTok{alpha=}\FloatTok{0.7}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_ribbon}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\NormalTok{(}\DecValTok{1}\OperatorTok{-}\NormalTok{counterW}\OperatorTok{$}\NormalTok{posp), }\DataTypeTok{ymax=}\DecValTok{1}\NormalTok{), }\DataTypeTok{fill =} \StringTok{"green"}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"2017 Articles by Impact"}\NormalTok{, }\DataTypeTok{x=}\StringTok{"Date (Jan-Nov)"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"% of Articles"}\NormalTok{)}
\NormalTok{g1}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{MDS_Portfolio_files/figure-latex/unnamed-chunk-5-1} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g2}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{MDS_Portfolio_files/figure-latex/unnamed-chunk-5-2} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Qualitative factor breakdown}
\NormalTok{pill.imp =}\StringTok{ }\KeywordTok{table}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Pillar, }\DataTypeTok{by=}\NormalTok{medmon}\OperatorTok{$}\NormalTok{Impact)}
\NormalTok{pill.imp=}\KeywordTok{as.data.frame}\NormalTok{(pill.imp)}
\KeywordTok{colnames}\NormalTok{(pill.imp)=}\StringTok{ }\KeywordTok{c}\NormalTok{( }\StringTok{"Pillar"}\NormalTok{, }\StringTok{"Impact"}\NormalTok{, }\StringTok{"Freq"}\NormalTok{)}
\KeywordTok{ggplot}\NormalTok{(pill.imp, }\KeywordTok{aes}\NormalTok{(Pillar, Freq, }\DataTypeTok{fill=}\NormalTok{Impact))}\OperatorTok{+}\KeywordTok{geom_bar}\NormalTok{(}\DataTypeTok{stat=}\StringTok{"identity"}\NormalTok{, }\DataTypeTok{position =} \KeywordTok{position_dodge}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{MDS_Portfolio_files/figure-latex/unnamed-chunk-5-3} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#A list of sources by categorized topic}

\NormalTok{source.top =}\StringTok{ }\KeywordTok{table}\NormalTok{(medmon}\OperatorTok{$}\NormalTok{Sources, }\DataTypeTok{by=}\NormalTok{medmon}\OperatorTok{$}\NormalTok{Topic)}
\NormalTok{source.top =}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(source.top[])}
\KeywordTok{colnames}\NormalTok{(source.top) =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Source"}\NormalTok{, }\StringTok{"Topic"}\NormalTok{, }\StringTok{"Freq"}\NormalTok{)}
\KeywordTok{ggplot}\NormalTok{(source.top, }\KeywordTok{aes}\NormalTok{(Source, Freq, }\DataTypeTok{fill=}\NormalTok{Topic))}\OperatorTok{+}\KeywordTok{geom_bar}\NormalTok{(}\DataTypeTok{stat=}\StringTok{"identity"}\NormalTok{, }\DataTypeTok{position =} \KeywordTok{position_dodge}\NormalTok{())}\OperatorTok{+}\StringTok{ }\KeywordTok{coord_flip}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{MDS_Portfolio_files/figure-latex/unnamed-chunk-5-4} \end{center}

\section{As we can see, there are some stark differences in the number
of articles involving our subject country within each media
source.}\label{as-we-can-see-there-are-some-stark-differences-in-the-number-of-articles-involving-our-subject-country-within-each-media-source.}

\subsection{Text Mining}\label{text-mining}

Let's say we were now interested in finding the most frequent words
within headlines of the year.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'tm' was built under R version 3.5.1
\end{verbatim}

\begin{verbatim}
## Loading required package: NLP
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'NLP'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:ggplot2':
## 
##     annotate
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(SnowballC)}
\KeywordTok{library}\NormalTok{(data.table)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'data.table' was built under R version 3.5.1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{corp=medmon}\OperatorTok{$}\NormalTok{Title}
\NormalTok{corpstring=}\KeywordTok{paste}\NormalTok{(corp,}\DataTypeTok{collapse =} \StringTok{""}\NormalTok{, }\DataTypeTok{sep =} \StringTok{" "}\NormalTok{)}
\NormalTok{corpstring=}\StringTok{ }\KeywordTok{VectorSource}\NormalTok{(corpstring)}
\NormalTok{corp=}\KeywordTok{VCorpus}\NormalTok{(corpstring )}

\CommentTok{#Transformations to isolate the key root words of each headline}
\NormalTok{corp=}\KeywordTok{tm_map}\NormalTok{(corp, removePunctuation)}
\NormalTok{corp=}\KeywordTok{tm_map}\NormalTok{(corp, }\KeywordTok{content_transformer}\NormalTok{(tolower))}
\NormalTok{corp=}\KeywordTok{tm_map}\NormalTok{(corp, removeWords, }\KeywordTok{stopwords}\NormalTok{(}\StringTok{"english"}\NormalTok{))}
\NormalTok{corp=}\KeywordTok{tm_map}\NormalTok{(corp, stemDocument)}
\NormalTok{matrix=}\KeywordTok{DocumentTermMatrix}\NormalTok{(corp)}
\CommentTok{#Determining most common word stems}
\NormalTok{wordfreq =}\StringTok{ }\KeywordTok{findMostFreqTerms}\NormalTok{(matrix, }\DecValTok{100}\NormalTok{)}
\NormalTok{wordfreq=wordfreq}\OperatorTok{$}\StringTok{`}\DataTypeTok{1}\StringTok{`}
\NormalTok{wordfreq=}\KeywordTok{as.data.frame}\NormalTok{(wordfreq)}
\NormalTok{wordfreq=}\KeywordTok{setDT}\NormalTok{(wordfreq, }\DataTypeTok{keep.rownames=}\NormalTok{T)}
\KeywordTok{head}\NormalTok{(wordfreq, }\DecValTok{25}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##            rn wordfreq
##  1:    brazil      456
##  2:       say      152
##  3:     temer      122
##  4:    presid       76
##  5:       new       73
##  6: brazilian       71
##  7:     court       66
##  8:   pension       65
##  9:   corrupt       63
## 10:    reform       63
## 11:      bank       62
## 12:       see       62
## 13:     probe       53
## 14:  petrobra       52
## 15:       cut       51
## 16:     polic       51
## 17:      rate       51
## 18:   billion       50
## 19:       may       49
## 20:      sale       48
## 21:     graft       47
## 22:   brazilâ€™       46
## 23:     polit       46
## 24:       rio       44
## 25:   central       43
##            rn wordfreq
\end{verbatim}

From here we can filter keywords and find the key terms readers have
seen with their news over the year. These are simple examples of the
insight that can be gained from such data; Much more robust collection
methods can lead to an even fuller picture of a country's portrayal in
the media.


\end{document}
